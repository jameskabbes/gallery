{"openapi": "3.1.0", "info": {"title": "FastAPI", "version": "0.1.0"}, "paths": {"/users/available/username/{username}/": {"get": {"summary": "User Username Available", "operationId": "user_username_available_users_available_username__username___get", "parameters": [{"name": "username", "in": "path", "required": true, "schema": {"type": "string", "minLength": 3, "maxLength": 20, "title": "Username"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ItemAvailableResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/users/available/email/{email}/": {"get": {"summary": "User Email Available", "operationId": "user_email_available_users_available_email__email___get", "parameters": [{"name": "email", "in": "path", "required": true, "schema": {"type": "string", "format": "email", "maxLength": 254, "title": "Email"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ItemAvailableResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/users/{user_id}": {"get": {"summary": "Get User By Id", "operationId": "get_user_by_id_users__user_id__get", "parameters": [{"name": "user_id", "in": "path", "required": true, "schema": {"type": "string", "title": "User Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserPublic"}}}}, "404": {"description": "User not found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NotFoundResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/users/username/{username}": {"get": {"summary": "Get User By Username", "operationId": "get_user_by_username_users_username__username__get", "parameters": [{"name": "username", "in": "path", "required": true, "schema": {"type": "string", "minLength": 3, "maxLength": 20, "title": "Username"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserPublic"}}}}, "404": {"description": "User not found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NotFoundResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/users/": {"post": {"summary": "Post User", "operationId": "post_user_users__post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserCreate"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserPrivate"}}}}, "409": {"description": "User already exists", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DetailOnlyResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/users/{user_id}/": {"patch": {"summary": "Patch User", "operationId": "patch_user_users__user_id___patch", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "user_id", "in": "path", "required": true, "schema": {"type": "string", "title": "User Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserPrivate"}}}}, "401": {"description": "Invalid token", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DetailOnlyResponse"}}}}, "403": {"description": "User does not have permission to update this user", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DetailOnlyResponse"}}}}, "404": {"description": "User not found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NotFoundResponse"}}}}, "409": {"description": "Username or email already exists", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DetailOnlyResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"summary": "Delete User", "operationId": "delete_user_users__user_id___delete", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "user_id", "in": "path", "required": true, "schema": {"type": "string", "title": "User Id"}}], "responses": {"204": {"description": "Successful Response"}, "403": {"description": "User does not have permission to delete this user", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DetailOnlyResponse"}}}}, "404": {"description": "User not found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NotFoundResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/galleries/available/": {"get": {"summary": "Get Gallery Available", "operationId": "get_gallery_available_galleries_available__get", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "name", "in": "query", "required": true, "schema": {"type": "string", "minLength": 1, "maxLength": 256, "title": "Name"}}, {"name": "parent_id", "in": "query", "required": false, "schema": {"type": "string", "title": "Parent Id"}}, {"name": "date", "in": "query", "required": false, "schema": {"type": "string", "format": "date", "title": "Date"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ItemAvailableResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/galleries/{gallery_id}/": {"get": {"summary": "Get Gallery", "operationId": "get_gallery_galleries__gallery_id___get", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "gallery_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Gallery Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Gallery"}}}}, "404": {"description": "Gallery not found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NotFoundResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "patch": {"summary": "Patch Gallery", "operationId": "patch_gallery_galleries__gallery_id___patch", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "gallery_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Gallery Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/GalleryUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Gallery"}}}}, "401": {"description": "Invalid token", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DetailOnlyResponse"}}}}, "403": {"description": "User does not have permission to update this gallery", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DetailOnlyResponse"}}}}, "404": {"description": "Gallery not found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NotFoundResponse"}}}}, "409": {"description": "Gallery already exists", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DetailOnlyResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"summary": "Delete Gallery", "operationId": "delete_gallery_galleries__gallery_id___delete", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "gallery_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Gallery Id"}}], "responses": {"204": {"description": "Successful Response"}, "403": {"description": "User does not have permission to delete this gallery", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DetailOnlyResponse"}}}}, "404": {"description": "Gallery not found", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NotFoundResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/galleries/": {"post": {"summary": "Post Gallery", "operationId": "post_gallery_galleries__post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/GalleryCreate"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Gallery"}}}}, "409": {"description": "Gallery already exists", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DetailOnlyResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}}, "/token/": {"post": {"summary": "Post Token", "operationId": "post_token_token__post", "requestBody": {"content": {"application/x-www-form-urlencoded": {"schema": {"$ref": "#/components/schemas/Body_post_token_token__post"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Token"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/login/": {"post": {"summary": "Login", "operationId": "login_login__post", "requestBody": {"content": {"application/x-www-form-urlencoded": {"schema": {"$ref": "#/components/schemas/Body_login_login__post"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/LoginResponse"}}}}, "401": {"description": "Could not validate credentials", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DetailOnlyResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/sign-up/": {"post": {"summary": "Sign Up", "operationId": "sign_up_sign_up__post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserCreate"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SignupResponse"}}}}, "409": {"description": "User already exists", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DetailOnlyResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/auth/google/": {"post": {"summary": "Google Auth", "operationId": "google_auth_auth_google__post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/GoogleAuthRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/GoogleAuthResponse"}}}}, "400": {"description": "Invalid token"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/login-with-email/": {"post": {"summary": "Login With Email", "operationId": "login_with_email_login_with_email__post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/LoginWithEmailRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DetailOnlyResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/profile/page/": {"get": {"summary": "Get Pages Profile", "operationId": "get_pages_profile_profile_page__get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/GetProfilePageResponse"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}}, "/home/page/": {"get": {"summary": "Get Home Page", "operationId": "get_home_page_home_page__get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/GetHomePageResponse"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}}, "/galleries/{gallery_id}/page/": {"get": {"summary": "Get Gallery Page", "operationId": "get_gallery_page_galleries__gallery_id__page__get", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "gallery_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Gallery Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/GetGalleryPageResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}}, "components": {"schemas": {"Body_login_login__post": {"properties": {"grant_type": {"anyOf": [{"type": "string", "pattern": "password"}, {"type": "null"}], "title": "Grant Type"}, "username": {"type": "string", "title": "Username"}, "password": {"type": "string", "title": "Password"}, "scope": {"type": "string", "title": "Scope", "default": ""}, "client_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Client Id"}, "client_secret": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Client Secret"}}, "type": "object", "required": ["username", "password"], "title": "Body_login_login__post"}, "Body_post_token_token__post": {"properties": {"grant_type": {"anyOf": [{"type": "string", "pattern": "password"}, {"type": "null"}], "title": "Grant Type"}, "username": {"type": "string", "title": "Username"}, "password": {"type": "string", "title": "Password"}, "scope": {"type": "string", "title": "Scope", "default": ""}, "client_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Client Id"}, "client_secret": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Client Secret"}}, "type": "object", "required": ["username", "password"], "title": "Body_post_token_token__post"}, "DetailOnlyResponse": {"properties": {"detail": {"type": "string", "title": "Detail"}}, "type": "object", "required": ["detail"], "title": "DetailOnlyResponse"}, "EXCEPTION": {"type": "string", "enum": ["invalid_token", "token_expired", "missing_required_claims", "user_not_found", "user_not_permitted", "credentials"]}, "Gallery": {"properties": {"id": {"type": "string", "title": "Id"}, "name": {"type": "string", "maxLength": 256, "minLength": 1, "title": "Name"}, "visibility": {"allOf": [{"$ref": "#/components/schemas/VisibilityLevel"}], "default": "public"}, "parent_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Parent Id"}, "description": {"type": "string", "maxLength": 256, "minLength": 1, "title": "Description", "default": ""}, "date": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "title": "Date"}}, "type": "object", "required": ["id", "name"], "title": "Gallery"}, "GalleryCreate": {"properties": {"name": {"type": "string", "maxLength": 256, "minLength": 1, "title": "Name"}, "visibility": {"anyOf": [{"$ref": "#/components/schemas/VisibilityLevel"}, {"type": "null"}], "default": "public"}, "parent_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Parent Id"}, "description": {"anyOf": [{"type": "string", "maxLength": 20000, "minLength": 1}, {"type": "null"}], "title": "Description", "default": ""}, "date": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "title": "Date"}}, "type": "object", "required": ["name"], "title": "GalleryCreate"}, "GalleryPermission": {"properties": {"gallery_id": {"type": "string", "title": "Gallery Id"}, "user_id": {"type": "string", "title": "User Id"}, "permission_level": {"$ref": "#/components/schemas/PermissionLevel"}}, "type": "object", "required": ["gallery_id", "user_id", "permission_level"], "title": "GalleryPermission"}, "GalleryUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 256, "minLength": 1}, {"type": "null"}], "title": "Name"}, "visibility": {"anyOf": [{"$ref": "#/components/schemas/VisibilityLevel"}, {"type": "null"}]}, "parent_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Parent Id"}, "description": {"anyOf": [{"type": "string", "maxLength": 20000, "minLength": 1}, {"type": "null"}], "title": "Description"}, "date": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "title": "Date"}}, "type": "object", "title": "GalleryUpdate"}, "GetAuthReturn": {"properties": {"user": {"anyOf": [{"$ref": "#/components/schemas/UserPrivate"}, {"type": "null"}]}, "exception": {"anyOf": [{"$ref": "#/components/schemas/EXCEPTION"}, {"type": "null"}]}}, "type": "object", "title": "GetAuthReturn"}, "GetGalleryPageResponse": {"properties": {"auth": {"$ref": "#/components/schemas/GetAuthReturn"}, "gallery": {"$ref": "#/components/schemas/Gallery"}, "gallery_permission": {"anyOf": [{"$ref": "#/components/schemas/GalleryPermission"}, {"type": "null"}]}}, "type": "object", "required": ["auth", "gallery"], "title": "GetGalleryPageResponse"}, "GetHomePageResponse": {"properties": {"auth": {"$ref": "#/components/schemas/GetAuthReturn"}}, "type": "object", "required": ["auth"], "title": "GetHomePageResponse"}, "GetProfilePageResponse": {"properties": {"auth": {"$ref": "#/components/schemas/GetAuthReturn"}, "user": {"anyOf": [{"$ref": "#/components/schemas/UserPrivate"}, {"type": "null"}]}}, "type": "object", "required": ["auth"], "title": "GetProfilePageResponse"}, "GoogleAuthRequest": {"properties": {"access_token": {"type": "string", "title": "Access Token"}}, "type": "object", "required": ["access_token"], "title": "GoogleAuthRequest"}, "GoogleAuthResponse": {"properties": {"auth": {"$ref": "#/components/schemas/GetAuthReturn"}, "token": {"$ref": "#/components/schemas/Token"}}, "type": "object", "required": ["auth", "token"], "title": "GoogleAuthResponse"}, "HTTPValidationError": {"properties": {"detail": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Detail"}}, "type": "object", "title": "HTTPValidationError"}, "ItemAvailableResponse": {"properties": {"available": {"type": "boolean", "title": "Available"}}, "type": "object", "required": ["available"], "title": "ItemAvailableResponse"}, "LoginResponse": {"properties": {"auth": {"$ref": "#/components/schemas/GetAuthReturn"}, "token": {"$ref": "#/components/schemas/Token"}}, "type": "object", "required": ["auth", "token"], "title": "LoginResponse"}, "LoginWithEmailRequest": {"properties": {"email": {"type": "string", "maxLength": 254, "minLength": 1, "format": "email", "title": "Email"}}, "type": "object", "required": ["email"], "title": "LoginWithEmailRequest"}, "NotFoundResponse": {"properties": {"detail": {"type": "string", "title": "Detail"}}, "type": "object", "required": ["detail"], "title": "NotFoundResponse"}, "PermissionLevel": {"type": "string", "enum": ["viewer", "editor", "owner"], "title": "PermissionLevel"}, "SignupResponse": {"properties": {"auth": {"$ref": "#/components/schemas/GetAuthReturn"}, "user": {"$ref": "#/components/schemas/UserPrivate"}, "token": {"$ref": "#/components/schemas/Token"}}, "type": "object", "required": ["auth", "user", "token"], "title": "SignupResponse"}, "Token": {"properties": {"access_token": {"type": "string", "title": "Access Token"}, "token_type": {"type": "string", "title": "Token Type", "default": "bearer"}}, "type": "object", "required": ["access_token"], "title": "Token"}, "UserCreate": {"properties": {"email": {"type": "string", "maxLength": 254, "minLength": 1, "format": "email", "title": "Email"}, "password": {"type": "string", "maxLength": 64, "minLength": 1, "title": "Password"}}, "type": "object", "required": ["email", "password"], "title": "UserCreate"}, "UserPrivate": {"properties": {"id": {"type": "string", "title": "Id"}, "email": {"type": "string", "maxLength": 254, "minLength": 1, "format": "email", "title": "Email"}, "username": {"anyOf": [{"type": "string", "maxLength": 20, "minLength": 3}, {"type": "null"}], "title": "Username"}}, "type": "object", "required": ["id", "email", "username"], "title": "UserPrivate"}, "UserPublic": {"properties": {"id": {"type": "string", "title": "Id"}, "username": {"anyOf": [{"type": "string", "maxLength": 20, "minLength": 3}, {"type": "null"}], "title": "Username"}}, "type": "object", "required": ["id", "username"], "title": "UserPublic"}, "UserUpdate": {"properties": {"email": {"anyOf": [{"type": "string", "maxLength": 254, "minLength": 1, "format": "email"}, {"type": "null"}], "title": "Email"}, "password": {"anyOf": [{"type": "string", "maxLength": 64, "minLength": 1}, {"type": "null"}], "title": "Password"}, "username": {"anyOf": [{"type": "string", "maxLength": 20, "minLength": 3}, {"type": "null"}], "title": "Username"}}, "type": "object", "title": "UserUpdate"}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}, "VisibilityLevel": {"type": "string", "enum": ["public", "private"], "title": "VisibilityLevel"}}, "securitySchemes": {"OAuth2PasswordBearer": {"type": "oauth2", "flows": {"password": {"scopes": {}, "tokenUrl": "token/"}}}}}}